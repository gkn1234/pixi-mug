# pixi-mug
基于JS的下落式音乐游戏

### 20-12-1 ~ 12-7
下落算法修改为三维算法

### 20-11-21
**手势判定逻辑**

0. 游戏运行中。
1. 用户按下，触发down事件。判定器接受down事件进行按键判定，在下一次判定前，先阻止所有的move事件。
  - 如果没有判定到按键，手势失效，返回0。
  - 如果判定到了按键，则可以开始接受move事件，前进到2。
2. 用户的手势触发的move事件被判定器接受，并进行判定。
  - 用户松手，转到4。
  - 用户不松手，在规定时间内move触发了下一次判定，循环2。
  - 用户不松手，但是超过了规定时间，都没有进行下一次判定，转到3。
3. move事件判定超时，本次手势视为终止，后续的move以及up事件都会被忽略，除非用户再次抬手做下一次手势。回到0
4. 用户松手触发up事件。判定器接收up事件进行按键判定，下一次判定执行后，无论结果，手势将终止。回到0

**不同类别的按键判定**
- 单点Tap：能够被down事件、up事件判定。up事件能判定单点是为了兼容一串 `连续滑键Slide` 末尾接一个 `单点Tap` 的设计。
- 快速滑键Swipe：只能够被up事件判定，并且up事件和down事件的间隔要足够短，滑动方向、滑动范围也要符合才算判定成功。
- 连续滑键Slide：能够被所有事件判定。
- 面条Hold：面条头只能被down事件和move事件判定。面条中部能被所有事件判定，且面条中部只要判定成功，永远视为完美判定。

### 20-11-20
- 实现了基础的按键下落，解决了下落表现异常的BUG
- 实现了暂停游戏，返回游戏，重开游戏，全屏游戏的功能